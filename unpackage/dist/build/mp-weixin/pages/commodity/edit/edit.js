(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/commodity/edit/edit"],{"41bf":function(e,n,t){"use strict";(function(e,i){var o=t("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(t("9523"));function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){(0,r.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var c={data:function(){return{pattern:{color:"#7A7E83",backgroundColor:"#fff",selectedColor:"#007AFF",buttonColor:"#007AFF",iconColor:"#fff"},content:[{iconPath:"/static/img/pretty/reset.png",selectedIconPath:"/static/img/pretty/reset.png",text:"重置",active:!1},{iconPath:"/static/img/pretty/add.png",selectedIconPath:"/static/img/pretty/add.png",text:"保存",active:!1}],tempPicUrls:[],picUrls:[],formData:{baseInfo:{remark:"",qualityGuaranteePeriod:"",commodityCode:""}},rules:{"baseInfo.name":{type:"string",required:!0,message:"请填写商品名称",trigger:["blur","change"]},"baseInfo.commodityCode":{type:"string",required:!0,message:"请填写商品代码",trigger:["blur","change"]},"baseInfo.price":{type:"string",required:!0,message:"请填写商品价格",trigger:["blur","change"]},"baseInfo.qualityGuaranteePeriod":{type:"string",required:!1,message:"请填写商品保质期",trigger:["blur","change"]},"baseInfo.produceDate":{type:"string",required:!1,message:"请填写商品生产日期",trigger:["blur","change"]}}}},onReady:function(){this.$refs.formComponent.setRules(this.rules)},onLoad:function(e){this.getDetail(e.id)},methods:{trigger:function(n){var t=this,o=n.index;0===o?(this.formData={baseInfo:{}},this.tempPicUrls=[],this.picUrls=[]):1===o&&this.$refs.formComponent.validate().then((function(n){var o=a(a({},t.formData.baseInfo),{},{picUrls:t.picUrls});console.log("params---",o),e.callFunction({name:"uploadCommodity",data:o}).then((function(e){t.$refs.uToast.show({message:"更新商品成功",type:"success"}),setTimeout((function(){i.reLaunch({url:"/pages/tabbar/tabbar-1/tabbar-1"})}),2e3)}))})).catch((function(e){i.$u.toast("请按照要求填写信息")}))},success:function(e){e.tempFiles;var n=e.tempFilePaths;this.picUrls=n},scanningCode:function(){var e=this;i.scanCode({success:function(n){var t=n.result;e.formData.baseInfo.commodityCode=t}})},getDetail:function(n){var t=this;e.callFunction({name:"getCommodityDetail",data:{id:n}}).then((function(e){console.log("获取商品详情---",e),t.formData.baseInfo=e.result[0],t.tempPicUrls=e.result[0].picUrls.map((function(e,n){return{name:"图片-".concat(n),extname:"png",url:e}})),t.picUrls=e.result[0].picUrls,i.setNavigationBarTitle({title:t.formData.baseInfo})}))}}};n.default=c}).call(this,t("a9ff")["default"],t("543d")["default"])},"4b5b":function(e,n,t){"use strict";t.r(n);var i=t("41bf"),o=t.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(r);n["default"]=o.a},"4f73":function(e,n,t){"use strict";t.r(n);var i=t("8aa8"),o=t("4b5b");for(var r in o)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(r);t("9f44");var u=t("f0c5"),a=Object(u["a"])(o["default"],i["b"],i["c"],!1,null,"9a13768e",null,!1,i["a"],void 0);n["default"]=a.exports},"8aa8":function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return r})),t.d(n,"a",(function(){return i}));var i={uNotify:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-notify/u-notify")]).then(t.bind(null,"0f20"))},uniCard:function(){return t.e("uni_modules/uni-card/components/uni-card/uni-card").then(t.bind(null,"febd"))},"u-Form":function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u--form/u--form")]).then(t.bind(null,"3166"))},uFormItem:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-form-item/u-form-item")]).then(t.bind(null,"d9ca"))},"u-Input":function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u--input/u--input")]).then(t.bind(null,"af4a"))},uInput:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-input/u-input")]).then(t.bind(null,"5b74"))},uniIcons:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(t.bind(null,"b943"))},uSlider:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-slider/u-slider")]).then(t.bind(null,"e514"))},uniDatetimePicker:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-datetime-picker/components/uni-datetime-picker/uni-datetime-picker")]).then(t.bind(null,"d8f4"))},"u-Textarea":function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u--textarea/u--textarea")]).then(t.bind(null,"dbe7"))},uniFilePicker:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-file-picker/components/uni-file-picker/uni-file-picker")]).then(t.bind(null,"9bba"))},uniFab:function(){return t.e("uni_modules/uni-fab/components/uni-fab/uni-fab").then(t.bind(null,"e459"))},uToast:function(){return t.e("uni_modules/uview-ui/components/u-toast/u-toast").then(t.bind(null,"75ab"))}},o=function(){var e=this.$createElement;this._self._c},r=[]},"8acc":function(e,n,t){},"9f44":function(e,n,t){"use strict";var i=t("8acc"),o=t.n(i);o.a},fe0d:function(e,n,t){"use strict";(function(e,n){var i=t("4ea4");t("2fe1"),t("a9ff");i(t("66fd"));var o=i(t("4f73"));e.__webpack_require_UNI_MP_PLUGIN__=t,n(o.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])}},[["fe0d","common/runtime","common/vendor"]]]);