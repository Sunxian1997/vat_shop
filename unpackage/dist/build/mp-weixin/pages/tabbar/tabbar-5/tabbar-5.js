(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabbar/tabbar-5/tabbar-5"],{"0d53":function(e,n,t){"use strict";t.d(n,"b",(function(){return u})),t.d(n,"c",(function(){return r})),t.d(n,"a",(function(){return o}));var o={uLineProgress:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-line-progress/u-line-progress")]).then(t.bind(null,"a780"))}},u=function(){var e=this.$createElement;this._self._c},r=[]},1990:function(e,n,t){"use strict";t.r(n);var o=t("8f63"),u=t.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(r);n["default"]=u.a},2942:function(e,n,t){"use strict";var o=t("e952"),u=t.n(o);u.a},"5e41":function(e,n,t){"use strict";(function(e,o){var u=t("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=u(t("2eee")),i=u(t("7037")),c=u(t("c973")),a=u(t("9523")),s=t("26cb");function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){(0,a.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e){if("function"!==typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(p=function(e){return e?t:n})(e)}var d={components:{vipCard:function(){return Promise.resolve().then((function(){return function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!==(0,i.default)(e)&&"function"!==typeof e)return{default:e};var t=p(n);if(t&&t.has(e))return t.get(e);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var c=u?Object.getOwnPropertyDescriptor(e,r):null;c&&(c.get||c.set)?Object.defineProperty(o,r,c):o[r]=e[r]}return o.default=e,t&&t.set(e,o),o}(t("ffae"))}))}},data:function(){return{popupShow:!1,loginInfo:{unionId:"",openid:"",session_key:"",avatarUrl:t("995f"),city:"",country:"",gender:0,is_demote:!0,language:"",nickName:"微信用户",province:""}}},onLoad:function(){console.log("this.$store--",this.$store.state)},computed:f({},(0,s.mapState)(["login","avatarUrl","nickName","unionId"])),methods:{toUserDetail:function(){e.navigateTo({url:"/pages/tabbar/tabbar-5/userDetail/userDetail"})},popupClose:function(){this.popupShow=!1},cancle:function(){this.loginInfo={unionId:"",openid:"",session_key:"",avatarUrl:"",city:"",country:"",gender:0,is_demote:!0,language:"",nickName:"微信用户",province:""},this.popupShow=!1},pecrmitLogin:function(){this.getUser()},popupOpen:function(){},checkLogin:function(){this.$store.state.login||e.navigateTo({url:"../login/login"})},loginUser:function(){var n=this;return(0,c.default)(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("this.$store.state",n.$store.state),e.login({success:function(t){console.log("uni.login--",t);var o=getApp().globalData,u=o.appid,r=o.secret,i="https://api.weixin.qq.com/sns/jscode2session?appid="+u+"&secret="+r+"&js_code="+t.code+"&grant_type=authorization_code";e.request({url:i,method:"GET",success:function(e){n.popupShow=!0,n.$refs.uToast.show({title:"获取用户信息成功",type:"success",position:"top"}),console.log("获取到openid",e);var t=e.data,o=t.openid,u=t.session_key;n.loginInfo=f(f({},n.loginInfo),{},{openid:o,session_key:u})},fail:function(e){n.$refs.uToast.show({title:"获取用户信息失败",type:"error",position:"top"})}})},fail:function(e){console.log(e)}});case 2:case"end":return t.stop()}}),t)})))()},getUser:function(){var e=this;o.callFunction({name:"users",data:this.loginInfo}).then((function(n){console.log("注测用户信息接口---",n),e.$store.commit("login",f(f({},e.loginInfo),n.result)),e.popupShow=!1,e.$refs.uToast.show({title:"用户信息登录成功",type:"success",position:"top"}),console.log("本地vuex保存信息---",e.$store.state)})).catch((function(n){e.$refs.uToast.show({title:"用户信息登录失败，请重新尝试",type:"error",position:"top"})}))}}};n.default=d}).call(this,t("543d")["default"],t("a9ff")["default"])},"6eeb":function(e,n,t){"use strict";t.r(n);var o=t("d1d1"),u=t("9f22");for(var r in u)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return u[e]}))}(r);t("2942");var i=t("f0c5"),c=Object(i["a"])(u["default"],o["b"],o["c"],!1,null,"5ad8018e",null,!1,o["a"],void 0);n["default"]=c.exports},"8f63":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={name:"vipCard",data:function(){return{}}}},"9f22":function(e,n,t){"use strict";t.r(n);var o=t("5e41"),u=t.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(r);n["default"]=u.a},a744:function(e,n,t){"use strict";(function(e,n){var o=t("4ea4");t("2fe1"),t("a9ff");o(t("66fd"));var u=o(t("6eeb"));e.__webpack_require_UNI_MP_PLUGIN__=t,n(u.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])},ac8f:function(e,n,t){},c611:function(e,n,t){"use strict";var o=t("ac8f"),u=t.n(o);u.a},d1d1:function(e,n,t){"use strict";t.d(n,"b",(function(){return u})),t.d(n,"c",(function(){return r})),t.d(n,"a",(function(){return o}));var o={uIcon:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(t.bind(null,"5524"))},uButton:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-button/u-button")]).then(t.bind(null,"6426"))},vipCard:function(){return Promise.resolve().then(t.bind(null,"ffae"))},uCellGroup:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-cell-group/u-cell-group")]).then(t.bind(null,"c2d6"))},uCell:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-cell/u-cell")]).then(t.bind(null,"4450"))},uToast:function(){return t.e("uni_modules/uview-ui/components/u-toast/u-toast").then(t.bind(null,"75ab"))},uPopup:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-popup/u-popup")]).then(t.bind(null,"798f"))},uLine:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-line/u-line")]).then(t.bind(null,"8e60"))}},u=function(){var e=this.$createElement;this._self._c},r=[]},e952:function(e,n,t){},ffae:function(e,n,t){"use strict";t.r(n);var o=t("0d53"),u=t("1990");for(var r in u)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return u[e]}))}(r);t("c611");var i=t("f0c5"),c=Object(i["a"])(u["default"],o["b"],o["c"],!1,null,"34f6a313",null,!1,o["a"],void 0);n["default"]=c.exports}},[["a744","common/runtime","common/vendor"]]]);